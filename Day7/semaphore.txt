Để hiểu rõ hơn về việc sử dụng semaphore trong scull, hãy xem xét việc sử dụng semaphore để bảo vệ các vùng mã quan trọng khỏi tình trạng tranh chấp tài nguyên. Dưới đây là ví dụ về cách sử dụng semaphore trong hàm scull_trim để ngăn chặn tình trạng tranh chấp khi một thiết bị được mở để ghi và cần phải cắt giảm dữ liệu cũ.
Trong hàm scull_open, nếu thiết bị được mở để ghi (O_WRONLY), tiến trình sẽ yêu cầu nắm giữ semaphore bằng cách gọi down_interruptible(&dev->sem). Điều này đảm bảo rằng nếu có một tiến trình khác đang truy cập vào thiết bị, tiến trình hiện tại sẽ phải đợi cho đến khi semaphore được giải phóng. Sau khi hoàn thành việc cắt giảm (scull_trim), tiến trình sẽ giải phóng semaphore bằng cách gọi up(&dev->sem).
